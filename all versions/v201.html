<!DOCTYPE html>
<html>
  <head>
    <title>Medium quality game</title>
    <style>
      html,button {
        font-size: 50px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <span id="points"></span><br>
    <span id="metapoints"></span><br><br>
    <button onclick="addpoint()">Get point</button><br>
    <button id="reset" onclick="reset()">Reset for a metapoint</button><br>
    <script>
      var points=0;
      var metapoints=0;
      if (localStorage.getItem("points201")){
        points=Number(localStorage.getItem("points201"));
      }
      if (localStorage.getItem("metapoints")){
        metapoints=Number(localStorage.getItem("metapoints201"));
      }
      function check(){
        if (points<10){
          document.getElementById("reset").innerHTML="Get 10 points to reset";
        } else{
          document.getElementById("reset").innerHTML="Reset for a metapoint";
        }
      }
      document.getElementById("points").innerHTML="Points: "+points;
      document.getElementById("metapoints").innerHTML="Metapoints: "+metapoints;
      function addpoint(){
        points+=1+metapoints/2;
        document.getElementById("points").innerHTML="Points: "+points;
      }
      function reset(){
        if (points>=10){
          metapoints+=1;
          points=0;
          document.getElementById("points").innerHTML="Points: "+points;
          document.getElementById("metapoints").innerHTML="Metapoints: "+metapoints;
        }
      }
      function save(){
        localStorage.setItem("points201",points.toString());
        localStorage.setItem("metapoints201",metapoints.toString());
      }
      setInterval(save,1000);
      setInterval(check,30);
    </script>
  </body>
</html>
