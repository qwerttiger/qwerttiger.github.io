<!DOCTYPE html>
<html>
  <head>
    <title>Best game ever (v3.1.0)</title>
    <style>
      html, button {
        font-size: 50px;
        text-align: center;
        font-family: sans-serif;
      }
      .top-bar{
        width: 25%;
      }
    </style>
  </head>
  <body>
    <button class="top-bar" onclick="screennum=0">Points</button><button class="top-bar" onclick="screennum=1">Upgrades</button><button class="top-bar" onclick="screennum=2">Options</button><button class="top-bar" onclick="screennum=3">Achievements</button><br><br>
    <span id="points"></span>
    <span id="metapoints"></span>
    <span id="metametapoints"></span>
    <span id="getpoint"><button onclick="addpoint()">Get point<br></button></span>
    <span id="getmeta"><button onclick="addmeta()">Get 10 points to get metapoints<br></button></span>
    <span id="getmetameta"><button onclick="addmetameta()">Get 10 metapoints to get metametapoints<br></button></span>
    <span id="infinity"></span>

    <span id="IP"></span>
    <span id="u1"></span>
    <span id="u2"></span>
    <span id="u3"></span>
    <span id="u4"></span>
    <script>
      var screennum=0;
      var lastscreennum=1;
      var points=0;
      var lastpoints=10;
      var metapoints=0;
      var lastmetapoints=10;
      var metametapoints=0;
      var lastmetametapoints=Infinity;
      var infinitypoints=0;
      var isInf=false;
      var lastisInf=true;
      var u1=0;
      var u2=0;
      var u3=0;
      var u4=0;
      if (localStorage.getItem("points310")){
        points=Number(localStorage.getItem("points310"));
      }
      if (localStorage.getItem("metapoints310")){
        metapoints=Number(localStorage.getItem("metapoints310"));
      }
      if (localStorage.getItem("metametapoints310")){
        metametapoints=Number(localStorage.getItem("metametapoints310"));
      }
      if (localStorage.getItem("u1310")){
        u1=Number(localStorage.getItem("u1310"));
      }
      if (localStorage.getItem("u2310")){
        u2=Number(localStorage.getItem("u2310"));
      }
      if (localStorage.getItem("u3310")){
        u3=Number(localStorage.getItem("u3310"));
      }
      if (localStorage.getItem("u4310")){
        u4=Number(localStorage.getItem("u4310"));
      }
      function check(){
        if ((points<10 && lastpoints>=10)||(points<10 && screennum==0 && lastscreennum!=0)){
          document.getElementById("getmeta").innerHTML="<button onclick='getmeta()'>Get 10 points to reset</button><br>";
        } else if ((points>=10 && lastpoints<10)||(points>=10 && screennum==0 && lastscreennum!=0)){
          document.getElementById("getmeta").innerHTML="<button onclick='getmeta()'>Reset for metapoints</button><br>";
        }
        if (screennum!=0){
          document.getElementById("getmeta").innerHTML="";
        }
        if ((metapoints<10 && lastmetapoints>=10)||(metapoints<10 && screennum==0 && lastscreennum!=0)){
          document.getElementById("getmetameta").innerHTML="<button onclick='getmetameta()'>Get 10 metapoints to reset</button><br>";
        } else if ((metapoints>=10 && lastmetapoints<10)||(metapoints>=10 && screennum==0 && lastscreennum!=0)){
          document.getElementById("getmetameta").innerHTML="<button onclick='getmetameta()'>Reset for metametapoints</button><br>";
        }
        if (screennum!=0){
          document.getElementById("getmetameta").innerHTML="";
        }
        if (screennum==0){
          document.getElementById("points").innerHTML="Points: "+points+"<br>";
          document.getElementById("metapoints").innerHTML="Metapoints: "+metapoints+"<br>";
          document.getElementById("metametapoints").innerHTML="Metametapoints: "+metametapoints+"<br><br>";
        }
        if (screennum==0 && lastscreennum!=0){
          document.getElementById("getpoint").innerHTML="<button onclick='addpoint()'>Get point</button><br>";
        } else if (screennum!=0 && lastscreennum!=screennum){
          document.getElementById("points").innerHTML="";
          document.getElementById("metapoints").innerHTML="";
          document.getElementById("metametapoints").innerHTML="";
          document.getElementById("getpoint").innerHTML="";
        }
        if (screennum==1){
          document.getElementById("IP").innerHTML="Infinity Points: "+infinitypoints+"<br>";
          if (lastscreennum!=1 && !u1){
            document.getElementById("u1").innerHTML="<button onclick='if (infinitypoints>=1){u1=1;infinitypoints-=1;setInterval(addpoint,100);}'>Get point autoclicker, 1 IP</button><br>";
          } else if (lastscreennum!=1){
            document.getElementById("u1").innerHTML="<button>Already bought</button><br>";
          }
          if (lastscreennum!=1 && !u2){
            document.getElementById("u2").innerHTML="<button onclick='if (infinitypoints>=5){u2=1;infinitypoints-=5;setInterval(getmeta,1000);}'>Get metapoint autoclicker, 5 IP</button><br>";
          } else if (lastscreennum!=1){
            document.getElementById("u2").innerHTML="<button>Already bought</button><br>";
          }
          if (lastscreennum!=1 && !u3){
            document.getElementById("u3").innerHTML="<button onclick='if (infinitypoints>=10){u3=1;infinitypoints-=10;setInterval(getmetameta,5000);}'>Get metametapoint autoclicker, 10 IP</button><br>";
          } else if (lastscreennum!=1){
            document.getElementById("u3").innerHTML="<button>Already bought</button><br>";
          }
          if (lastscreennum!=1 && !u4){
            document.getElementById("u4").innerHTML="<button onclick='if (infinitypoints>=25){u4=1;infinitypoints-=25;setInterval(getIP,10000);}'>Get Infinity autoclicker, 25 IP</button>";
          } else if (lastscreennum!=1){
            document.getElementById("u4").innerHTML="<button>Already bought</button>";
          }
        } else if (screennum!=1 && lastscreennum!=screennum){
          document.getElementById("IP").innerHTML="";
          document.getElementById("u1").innerHTML="";
          document.getElementById("u2").innerHTML="";
          document.getElementById("u3").innerHTML="";
          document.getElementById("u4").innerHTML="";
        }
        if (points==Infinity && metapoints==Infinity && metametapoints==Infinity){
          isInf=true;
        } else if ((lastpoints==Infinity || lastmetapoints==Infinity || lastmetametapoints==Infinity) && points!=Infinity && metapoints!=Infinity && metametapoints!=Infinity) {
          isInf=false;
        }
        if ((isInf && !lastisInf && screennum==0)||(screennum==0 && lastscreennum!=0 && isInf)){
          document.getElementById("infinity").innerHTML="<button onclick='getIP()'>Infinity for 1 Infinity Point</button>";
        } else if ((!isInf && lastisInf && screennum==0)||(screennum==0 && lastscreennum!=0 && !isInf)){
          document.getElementById("infinity").innerHTML="<button onclick='getIP()'>Get infinity everything to Infinity</button>";
        } else if (screennum!=0 && lastscreennum==0){
          document.getElementById("infinity").innerHTML="";
        }
        lastpoints=points;
        lastmetapoints=metapoints;
        lastmetametapoints=metametapoints;
        lastscreennum=screennum;
        lastisInf=isInf;
      }
      function addpoint(){
        points+=Math.ceil(1+metapoints/2);
      }
      function getmeta(){
        if (points>=10){
          metapoints+=Math.floor(points/10)*Math.floor(metametapoints/2+1);
          points=0;
        }
      }
      function getmetameta(){
        if (metapoints>=10){
          metametapoints+=Math.floor(metapoints/10);
          points=0;
          metapoints=0;
        }
      }
      function reset(){
        points=0;
        metapoints=0;
        metametapoints=0;
        infinitypoints=0;
        u1=0;
        u2=0;
        u3=0;
        u4=0;
      }
      function save(){
        localStorage.setItem("points310",points.toString());
        localStorage.setItem("metapoints310",metapoints.toString());
        localStorage.setItem("metametapoints310",metametapoints.toString());
        localStorage.setItem("u1310",u1.toString());
        localStorage.setItem("u2310",u2.toString());
        localStorage.setItem("u3310",u3.toString());
        localStorage.setItem("u4310",u4.toString());
      }
      function getIP(){
        if (isInf){
          infinitypoints+=1;
          points=0;
          metapoints=0;
          metametapoints=0;
        }
      }
      setInterval(save,1000);
      setInterval(check,50);
      if (u1){
        setInterval(addpoint,100);
      }
      if (u2){
        setInterval(getmeta,1000);
      }
      if (u3){
        setInterval(getmetameta,5000);
      }
      if (u4){
        setInterval(getIP,10000);
      }
    </script>
  </body>
</html>
